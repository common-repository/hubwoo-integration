!function(o){"use strict";var e=hubwooi18n.ajaxUrl,u=hubwooi18n.hubwooWentWrong,r=hubwooi18n.hubwooCreatingGroup,t=hubwooi18n.hubwooCreatingProperty,a=hubwooi18n.hubwooSetupCompleted,n=hubwooi18n.hubwooMailFailure,c=hubwooi18n.hubwooSecurity,i=hubwooi18n.hubwooConnectTab,s=hubwooi18n.hubwooUpdateSuccess,l=hubwooi18n.hubwooUpdateFail,h=hubwooi18n.hubwooAccountSwitch,p=hubwooi18n.hubwooMailSuccess;jQuery(document).ready(function(){jQuery(".hubwoo_tracking").on("click",function(){jQuery(".hub_pop_up_wrap").show()}),jQuery("#hubwoo_pro_switch").on("click",function(o){if(!confirm(h))return o.preventDefault(),!1;jQuery("form#hubwoopro").submit(),location.reload()}),jQuery("a.hubwoo-tab-disabled").on("click",function(o){return o.preventDefault(),!1}),jQuery(".hubwoo_tracking").on("click",function(){jQuery("#hubwoo_loader").show(),jQuery.post(e,{action:"hubwoo_clear_mail_choice",hubwooSecurity:c},function(o){location.reload()})}),jQuery("a#hubwoo-refresh-token").on("click",function(o){jQuery("#hubwoo_loader").show(),jQuery.post(e,{action:"hubwoo_check_oauth_access_token",hubwooSecurity:c},function(o){var e=jQuery.parseJSON(o).message;alert(e),location.reload()})}),jQuery(".hubwoo_later").on("click",function(){jQuery("#hubwoo_loader").show(),jQuery.post(e,{action:"hubwoo_suggest_later",hubwooSecurity:c},function(o){location.reload()})}),jQuery(".hubwoo_accept").on("click",function(){jQuery("#hubwoo_loader").show(),jQuery.post(e,{action:"hubwoo_check_oauth_access_token",hubwooSecurity:c},function(o){var r=jQuery.parseJSON(o),t=r.status;r.message;t?jQuery.post(e,{action:"hubwoo_suggest_accept",hubwooSecurity:c},function(o){null!=o?"failure"==o?(alert(n),location.reload()):(alert(p),location.reload()):(alert(u),location.reload())}):(alert(u),location.reload())})}),jQuery("a#hubwoo-run-setup").on("click",function(){jQuery("#hubwoo_loader").show(),jQuery.post(e,{action:"hubwoo_check_oauth_access_token",hubwooSecurity:c},function(o){var n=jQuery.parseJSON(o),i=n.status;n.message;if(!i)return alert(u),jQuery("#hubwoo_loader").hide(),!1;jQuery("#hubwoo_loader").hide(),jQuery("#hubwoo-setup-process").show(),jQuery.post(e,{action:"hubwoo_get_groups",hubwooSecurity:c},function(o){if(null==o)return alert(u),!1;var n=jQuery.parseJSON(o),i=n.length,s=parseFloat(100/i),l=0;jQuery.each(n,function(o,u){var a=u.displayName,n={action:"hubwoo_create_group_and_property",createNow:"group",groupDetails:u,hubwooSecurity:c};jQuery.ajax({url:e,type:"POST",data:n,async:!1}).done(function(o){var n=jQuery.parseJSON(o),i=n.errors,h="";if(i)h="<div class='notice error'><p> "+i+"</p></div>";else{var p=n.status_code;if(200==p||409==p)h="<div class='notice updated'><p> "+r+" <strong>"+a+"</strong></p></div>";else{var w=n.response;h=null!=w&&""!=w?"<div class='notice error'><p> "+(w=jQuery.parseJSON(w)).message+"</p></div>":"<div class='notice error'><p> "+p+"</p></div>"}}jQuery(".hubwoo-message-area").append(h);var b={action:"hubwoo_get_group_properties",groupName:u.name,hubwooSecurity:c};jQuery.ajax({url:e,type:"POST",data:b,async:!1}).done(function(o){if(null!=o){var r=jQuery.parseJSON(o),a=r.length,n=parseFloat(s/a);jQuery.each(r,function(o,r){l+=n,jQuery(".progress-bar").css("width",l+"%");var a={action:"hubwoo_create_group_property",groupName:u.name,propertyDetails:r,hubwooSecurity:c};jQuery.ajax({url:e,type:"POST",data:a,async:!1}).done(function(o){var e=jQuery.parseJSON(o),u=e.errors,a="";if(u)a="<div class='notice error'><p> "+u+"</p></div>";else{var n=e.status_code;if(200==n||409==n)a="<div class='notice updated'><p> "+t+" <strong>"+r.name+"</strong></p></div>";else{var c=e.response;a=null!=c&&""!=c?"<div class='notice error'><p> "+(c=jQuery.parseJSON(c)).message+"</p></div>":"<div class='notice error'><p> "+n+"</p></div>"}}jQuery(".hubwoo-message-area").append(a)})})}})})}),jQuery.post(e,{action:"hubwoo_setup_completed",hubwooSecurity:c},function(o){alert(a),location.reload()})})})}),jQuery("a.hubwoo-overview-get-started").on("click",function(o){jQuery("#hubwoo_loader").show(),jQuery.post(e,{action:"hubwoo_get_started_call",hubwooSecurity:c},function(o){window.location.href=i})}),jQuery("#hubwoo_old_properties_update").on("click",function(u){u.preventDefault(),jQuery("#hubwoo_loader").show(),jQuery.post(e,{action:"hubwoo_check_oauth_access_token",hubwooSecurity:c},function(u){jQuery.parseJSON(u).status&&o.ajax({type:"POST",url:e,async:!1,data:{action:"hubwoo_update_old_properties",hubwooSecurity:c},success:function(o){jQuery("#hubwoo_loader").hide(),o?jQuery.post(e,{action:"hubwoo_add_update_option",hubwooSecurity:c},function(o){alert(s),location.reload()}):(alert(l),location.reload())}})})}),jQuery(".hubwoo-mobile-nav .dashicons").on("click",function(o){o.preventDefault(),jQuery(".hubwoo-navigator-template").toggle("slow")})})}(jQuery);